(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"04b7":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{staticClass:"relative-position"},[o("q-scroll-area",{staticClass:"absolute full-width full-height"},[o("div",{staticClass:"q-py-lg q-px-md row items-end q-col-gutter-md"},[o("div",{staticClass:"col"},[o("q-input",{staticClass:"new-loop",attrs:{"bottom-slots":"",placeholder:"Whats happening?",counter:"",maxlength:"280",autogrow:""},scopedSlots:t._u([{key:"before",fn:function(){return[o("q-avatar",[o("q-icon",{attrs:{name:"account_circle",size:"md"}})],1)]},proxy:!0}]),model:{value:t.newLoopContent,callback:function(e){t.newLoopContent=e},expression:"newLoopContent"}})],1),o("div",{staticClass:"col col-shrink"},[o("q-btn",{staticClass:"q-mb-lg",attrs:{disable:!t.newLoopContent,unelevated:"",rounded:"",color:"primary",label:"Post","no-caps":""},on:{click:function(e){return t.addNewLoop()}}})],1)]),o("q-separator",{staticClass:"divider",attrs:{size:"10px",color:"grey-2"}}),o("q-list",{attrs:{separator:""}},[o("transition-group",{attrs:{appear:"","enter-active-class":"animated fadeIn slow","leave-active-class":"animated fadeOut slow"}},t._l(t.loops,(function(e){return o("q-item",{key:e.date,staticClass:"loop q-py-md"},[o("q-item-section",{attrs:{avatar:"",top:""}},[o("q-avatar",[o("q-icon",{attrs:{name:"account_circle",size:"xl"}})],1)],1),o("q-item-section",[o("q-item-label",{staticClass:"text-subtitle1"},[o("strong",[t._v("Tyler Burke ")]),o("span",{staticClass:"text-grey-7"},[t._v("@tylerjamesburke\n              "),o("br",{staticClass:"lt-md"}),t._v(" â€¢ "+t._s(t._f("relativeDate")(e.date))+"\n              ")])]),o("q-item-label",{staticClass:"loop-content text-subtitle1"},[t._v("\n              "+t._s(e.content)+"\n            ")]),o("div",{staticClass:"loop-icons row justify-between q-mt-sm"},[o("q-btn",{attrs:{flat:"",round:"",color:"grey",size:"sm",icon:"chat_bubble_outline"}}),o("q-btn",{attrs:{flat:"",round:"",color:"grey",size:"sm",icon:"all_inclusive"}}),o("q-btn",{attrs:{color:e.liked?"pink":"grey",icon:e.liked?"favorite":"favorite_border",flat:"",round:"",size:"sm"},on:{click:function(o){return t.toggleLiked(e)}}}),o("q-btn",{attrs:{flat:"",round:"",color:"grey",size:"sm",icon:"delete_outline"},on:{click:function(o){t.deleteLoop(e)}}})],1)],1)],1)})),1)],1)],1)],1)},a=[],s=o("fc1b"),l=o("1556"),i={name:"PageHome",data(){return{newLoopContent:"",loops:[]}},methods:{addNewLoop(){const t={content:this.newLoopContent,date:Date.now()};s["a"].collection("loops").add(t).then((t=>{console.log("Document written with ID: ",t.id)})).catch((t=>{console.error("Error adding document: ",t)})),this.newLoopContent=""},deleteLoop(t){s["a"].collection("loops").doc(t.id).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(t){console.error("Error removing document: ",t)}))},toggleLiked(t){s["a"].collection("loops").doc(t.id).update({liked:!t.liked}).then((function(){console.log("Document successfully updated!")})).catch((function(t){console.error("Error updating document: ",t)}))}},filters:{relativeDate(t){return Object(l["a"])(t,new Date)}},mounted(){s["a"].collection("loops").orderBy("date").onSnapshot((t=>{t.docChanges().forEach((t=>{const e=t.doc.data();if(e.id=t.doc.id,"added"===t.type&&(console.log("New loop: ",e),this.loops.unshift(e)),"modified"===t.type){console.log("Modified loop: ",e);const t=this.loops.findIndex((t=>t.id===e.id));Object.assign(this.loops[t],e)}if("removed"===t.type){console.log("Removed loop: ",e);const t=this.loops.findIndex((t=>t.id===e.id));this.loops.splice(t,1)}}))}))}},c=i,r=(o("83f0"),o("2877")),d=o("9989"),u=o("4983"),p=o("27f9"),m=o("cb32"),f=o("0016"),b=o("9c40"),g=o("eb85"),h=o("1c1c"),v=o("66e5"),w=o("4074"),q=o("0170"),C=o("eebe"),y=o.n(C),k=Object(r["a"])(c,n,a,!1,null,null,null);e["default"]=k.exports;y()(k,"components",{QPage:d["a"],QScrollArea:u["a"],QInput:p["a"],QAvatar:m["a"],QIcon:f["a"],QBtn:b["a"],QSeparator:g["a"],QList:h["a"],QItem:v["a"],QItemSection:w["a"],QItemLabel:q["a"]})},"83f0":function(t,e,o){"use strict";o("b470")},b470:function(t,e,o){}}]);